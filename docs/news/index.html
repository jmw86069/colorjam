<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • colorjam</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">colorjam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.26.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/colorjam/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="http://github.com/jmw86069/colorjam/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.26.900" id="colorjam-0026900">colorjam 0.0.26.900<a class="anchor" aria-label="anchor" href="#colorjam-0026900"></a></h2>
<ul><li>
<code>.onLoad()</code> to add default <code>options(colorjam.preset="dichromat2")</code>, and which can be customized.</li>
<li>README.Rmd was rewritten to match recent updates.</li>
</ul><div class="section level3">
<h3 id="changes-to-existing-functions-0-0-26-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-26-900"></a></h3>
<ul><li>
<p><code><a href="../reference/sort_colors.html">sort_colors()</a></code></p>
<ul><li>argument <code>byCols=NULL</code> changed to <code>byCols=c("H", "C", "L")</code> so the default behavior will sort colors by hue, previously the default behavior was not to sort colors, which seemed counter to the default purpose of the function.</li>
</ul></li>
<li><p>new preset <code>"hcl_to_hsl"</code> intended for internal use to convert HCL hue to HSL hue.</p></li>
<li>
<p><code><a href="../reference/launchColorjamShiny.html">launchColorjamShiny()</a></code></p>
<ul><li>now hides presets: <code>"none"</code>, <code>"hcl_to_hsl"</code>
</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-26-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-26-900"></a></h3>
<ul><li>
<p><code><a href="../reference/remap_colorjam_preset.html">remap_colorjam_preset()</a></code></p>
<ul><li>experimental, intended to remap colors from one preset to another</li>
<li>it works fairly well, but honestly it may have marginal utility</li>
</ul></li>
<li>
<p><code><a href="../reference/hcl_to_hsl_hue.html">hcl_to_hsl_hue()</a></code>,<code><a href="../reference/hsl_to_hcl_hue.html">hsl_to_hcl_hue()</a></code></p>
<ul><li>conversion to the hue in HCL and HSL color spaces.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.25.900" id="colorjam-0025900">colorjam 0.0.25.900<a class="anchor" aria-label="anchor" href="#colorjam-0025900"></a></h2>
<p>Added MIT license and copyright.</p>
<div class="section level3">
<h3 id="general-updates-0-0-25-900">general updates<a class="anchor" aria-label="anchor" href="#general-updates-0-0-25-900"></a></h3>
<ul><li><p><code>dichromat</code> added as package dependency. Respect.</p></li>
<li><p><code>cli</code> was added as a package dependency (in v24 actually), to be consistent with recommended R package messaging.</p></li>
<li>
<p>Each <code>preset</code> now includes <code>direction</code> and <code>default_step</code>, optional attribute <code>"description"</code> as a label.</p>
<ul><li>after testing it soon became clear that each <code>preset</code> is designed with a <code>step</code> in mind, so the appropriate <code>default_step</code> should be stored</li>
<li>also the <code>direction</code> was previously deduced by the <code>h1</code>,<code>h2</code> values, however this too is unnecessary and should be encoded in the <code>preset</code> to avoid errors.</li>
</ul></li>
<li>
<p>For my own benefit, I made a simple R-shiny app:</p>
<ul><li>visualize colors from <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code>
</li>
<li>adjust the number of colors <code>n</code>, <code>preset</code>, <code>step</code>
</li>
<li>plotly to adjust the <code>preset</code> control points, creating a new color wheel</li>
<li>subset specific colors for direct visual comparison</li>
</ul></li>
<li>
<p>I used the R-shiny app to create and optimize <code>dichromat2</code>:</p>
<ul><li>starts at gold</li>
<li>roughly evenly distributes warm/cool colors around two halves of the color wheel</li>
<li>roughly evenly distributes color-blindness sensitive colors around two halves of the color wheel, for “deutan”, “protan”, and “tritan”. It isn’t perfect, but should enhance the visual distinction in adjacent colors, while being fairly scalable to large <code>n</code>.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-data-0-0-25-900">new data<a class="anchor" aria-label="anchor" href="#new-data-0-0-25-900"></a></h3>
<ul><li>
<p><code>named_colors</code></p>
<ul><li>
<p>Superset of 4883 hexadecimal colors with corresponding color names:</p>
<ul><li>4447 colors from Github <code>"meodai/color-names"</code> repository;</li>
<li>436 colors from <code><a href="https://rdrr.io/r/grDevices/colors.html" class="external-link">grDevices::colors()</a></code>, which were not already defined by Meodai colors.</li>
</ul></li>
<li><p>Colors are intended to improve labeling <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> colors.</p></li>
<li><p>Color labels from <code><a href="../reference/closest_named_color.html">closest_named_color()</a></code> could become a QC step to confirm that <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> creates colors that can be assigned to different named colors.</p></li>
<li><p>In testing, <code><a href="https://rdrr.io/r/grDevices/colors.html" class="external-link">grDevices::colors()</a></code> did not provide sufficient detail, specific examples frequently included <code>"cornflowerblue"</code> and <code>"steelblue"</code> despite appearing for colors with visibly distinctive blue/purple color hues.</p></li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-25-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-25-900"></a></h3>
<ul><li>
<p><code><a href="../reference/launchColorjamShiny.html">launchColorjamShiny()</a></code></p>
<ul><li>simple R-shiny app to display categorical colors</li>
<li>selection of <code>'</code>, <code>preset</code>, <code>step</code>, <code>phase</code>, <code>subset</code>
</li>
<li>plotly interactive plot of <code>h1</code> and <code>h2</code> values, which can be edited! Is it not perfect, need to override plotly “snap” behavior, which seems to be hard-coded.</li>
<li>optional <code><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html" class="external-link">dichromat::dichromat()</a></code> adjustment to simulate color-blindness</li>
<li>
<code><a href="../reference/colorjamShinyServer.html">colorjamShinyServer()</a></code>,<code><a href="../reference/colorjamShinyUI.html">colorjamShinyUI()</a></code> are internal functions to provide <code>server</code> and <code>ui</code> components to <code><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">shiny::runApp()</a></code>.</li>
</ul></li>
<li>
<p><code><a href="../reference/closest_named_color.html">closest_named_color()</a></code></p>
<ul><li>simple wrapper to <code><a href="../reference/closestRcolor.html">closestRcolor()</a></code> except that it uses the 4883 <code>named_colors</code> instead of R <code><a href="https://rdrr.io/r/grDevices/colors.html" class="external-link">grDevices::colors()</a></code>, although all colors are contained in <code>named_colors</code>.</li>
</ul></li>
<li>
<p><code><a href="../reference/validate_colorjam_preset.html">validate_colorjam_preset()</a></code></p>
<ul><li>function to adjust raw <code>h1</code>,<code>h2</code> values, wrap within range <code>c(0, 360)</code>
</li>
<li>breaks ties in a way that maintains proper sort order for <code>direction=1</code> and <code>direction=-1</code>
</li>
<li>Todo: impose edits to <code>h1</code>,<code>h2</code> when out of order. E.g. is one point is adjusted past the next point, the next point should be shifted.</li>
</ul></li>
<li>
<p><code><a href="../reference/plot_colorjam_preset.html">plot_colorjam_preset()</a></code></p>
<ul><li>visual plotting of <code>h1</code>,<code>h2</code> values, showing the resulting color along each respective axis.</li>
<li>option for base R plot, or plotly with editable control points (the editing is only functional inside an R-shiny app).</li>
</ul></li>
<li>
<p><code><a href="../reference/vibrant_color_by_hue.html">vibrant_color_by_hue()</a></code></p>
<ul><li>external convenience function that takes an HCL color hue and returns the most saturated HSL color.</li>
<li>internally it converts HCL to hex, hex to HSL - because HSL hue differs from HCL hue. Then using HSL hue it uses S=100, L=50 to obtain the most saturated color.</li>
<li>it still shows color hue “drift” since HCL hue to HSL hue is not a linear relationship for different CL or SL values, but it’s much better than using HCL and letting it randomly determine what hue is the closest match to the requested HCL values.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-25-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-25-900"></a></h3>
<ul><li>
<p><code><a href="../reference/rainbowJam.html">rainbowJam()</a></code></p>
<ul><li>new argument option <code>nameStyle="closest_named_color"</code> which uses the 4883 <code>named_colors</code> for labeling.</li>
<li>
<code>nameStyle="hcl"</code> now calculates actual HCL values and not the input values to <code><a href="https://rdrr.io/r/grDevices/hcl.html" class="external-link">hcl()</a></code>, because those values may change upon creating a color in gamut.</li>
<li>
<code>h1</code>,<code>h2</code> are deprecated, instead use <code>preset</code>
</li>
<li>
<code>Cvals</code>,<code>Lvals</code> are deprecated, instead use <code>step</code>
</li>
<li>
<code>phase</code> can take one or more values, to select and order specific items in the given <code>step</code>
</li>
</ul></li>
<li>
<p><code><a href="../reference/colorjam_presets.html">colorjam_presets()</a></code>,<code><a href="../reference/add_colorjam_preset.html">add_colorjam_preset()</a></code></p>
<ul><li>Each <code>preset</code> now also has <code>direction</code> and <code>default_step</code>.</li>
</ul></li>
<li>
<p><code><a href="../reference/h2hw.html">h2hw()</a></code>,<code><a href="../reference/hw2h.html">hw2h()</a></code></p>
<ul><li>now calls <code><a href="../reference/colorjam_presets.html">colorjam_presets()</a></code>
</li>
</ul></li>
<li>
<p><code><a href="../reference/approx_degrees.html">approx_degrees()</a></code></p>
<ul><li>now accepts <code>preset</code> input</li>
<li>handles (and requires) <code>direction</code> instead of determining by <code>h1</code>,<code>h2</code>
</li>
<li>calls <code><a href="../reference/validate_colorjam_preset.html">validate_colorjam_preset()</a></code> to handle tie-breaks</li>
</ul></li>
<li>
<p><code><a href="../reference/closestRcolor.html">closestRcolor()</a></code></p>
<ul><li>names are assigned when <code>colorSet</code> has names, helpful with the reference colors are hex, and names are user-friendly labels.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.24.900" id="colorjam-0024900">colorjam 0.0.24.900<a class="anchor" aria-label="anchor" href="#colorjam-0024900"></a></h2>
<p>This version of colorjam turned into a bit of a refactor:</p>
<ul><li>
<p>Color wheels are now stored as “presets”:</p>
<ul><li>presets are stored within the colorjam environment</li>
<li>preset names are given by <code><a href="../reference/colorjam_presets.html">colorjam_presets()</a></code>
</li>
<li>preset values are accessed by <code>colorjam_presets("dichromat")</code>
</li>
<li>new presets are registered with <code><a href="../reference/add_colorjam_preset.html">add_colorjam_preset()</a></code>
</li>
<li>the preset can be defined with <code>options("colorjam.preset")</code>
</li>
</ul></li>
<li>
<p>Rainbow colors are adjusted by Chroma/Luminance “steps”:</p>
<ul><li><p>“steps” are stored in the colorjam environment</p></li>
<li><p>Each step is a <code>list</code> with <code>numeric</code> vectors named <code>"C"</code> and <code>"L"</code>, each with values within the range: <code>c(0, 100)</code>.</p></li>
<li><p>steps are accessed with <code><a href="../reference/colorjam_steps.html">colorjam_steps()</a></code>, <code>colorjam_steps("v24")</code></p></li>
<li><p>new steps are registered with <code><a href="../reference/add_colorjam_step.html">add_colorjam_step()</a></code></p></li>
<li><p>the steps can be defined with <code>options("colorjam.step")</code></p></li>
<li>
<p>Background:</p>
<ul><li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> used arguments <code>Cvals</code> and <code>Lvals</code> to apply a sequence of luminance/chroma values to a series of color hues. The variation in C and L values was intended to maximize visual distinctiveness of consecutive colors. In fact, this process was the inspiration for <code>colorjam</code>, to make rainbow catgorical colors more visually distinctive than comparable functions that notably intend to produce colors as similar as possible. Different motivations.</li>
<li>
<code>colorspace::rainbow_hcl(n, c, l)</code> accepts only one value per <code>c</code> and <code>l</code> argument</li>
<li>
<code><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">grDevices::rainbow()</a></code> uses the non-uniform <code>hsv</code> color space, and accepts multiple values for arguments <code>s</code> and <code>v</code>. (To be fair, the <code><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">hcl.colors()</a></code>
</li>
</ul></li>
</ul></li>
<li>
<p>Altogether <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> defines categorical colors with two core elements:</p>
<ul><li>
<code>"preset"</code>: color wheel with starting color, to define the color hues.</li>
<li>
<code>"steps"</code>: series of Chroma/Luminance values to apply to color hues.</li>
</ul></li>
<li>
<p>Starting color:</p>
<ul><li><p>The RGB color wheel classically “starts with” red.</p></li>
<li><p>It could be because the first color in the visible spectra (“ROY G. BIV”: red, orange, yellow, green, blue, indigo, violet) is red. However, in a color “wheel” the colors are rolled back on themselves, so any color can be placed at the top. Red is traditional.</p></li>
<li>
<p>After very heavy usage of this package, it became clear that assigning categorical colors to statistical designs was not ideal. Specifically, we standardized experiment designs so that “the control” for each experiment factor is the first value in each column.</p>
<ul><li>Some examples: <code>c("Control", "Dexamethasone", "Etoposide")</code>; <code>c("Wildtype", "ADAM19_Knockout")</code>; <code>c("Time0", "Time1", "Time2", "Time3")</code>
</li>
<li>The first group was always colored bright red; subsequent groups were assigned orange, yellow, blue, purple.</li>
<li>Dr. Ayland Letsinger asked why we didn’t start with yellow instead of red, so the control group would have a neutral color? Brilliant.</li>
</ul></li>
<li>
<p>The new presets include:</p>
<ul><li>
<code>"dichromat2"</code> which starts with gold, proceeds in reverse to red, purple, blue. (There is no green in the dichromat color wheel.)</li>
<li>
<code>"ybr"</code> derived by <code>"ryb"</code> except it starts with yellow, proceeds “forward” to green, blue, purple, then red.</li>
</ul></li>
</ul></li>
<li><p>Added <code>cli</code> package dependency for improved messaging, particularly for deprecated function arguments.</p></li>
</ul><div class="section level3">
<h3 id="bug-fixes-0-0-24-900">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-24-900"></a></h3>
<ul><li>Added missing package prefix with internal references to <code>jam_linear</code> and <code>jam_divergent</code> data objects.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-24-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-24-900"></a></h3>
<ul><li>
<p><code><a href="../reference/rainbowJam.html">rainbowJam()</a></code></p>
<ul><li><p>argument <code>preset</code> is the primary definition of color wheel</p></li>
<li><p>arguments <code>Cvals</code>,<code>Lvals</code>,<code>Crange</code>,<code>Lrange</code> are deprecated (frankly, who is affected though, only me)</p></li>
<li><p>arguments <code>h1</code>,<code>h2</code> are deprecated and ignored in favor of <code>preset</code>. To use custom <code>h1</code>,<code>h2</code> they must be added to new preset then referred by name.</p></li>
<li>
<p>new argument <code>step</code> defines the sequence of <code>C</code> and <code>L</code> values</p>
<ul><li>steps from specific previous versions of colorjam are available: <code>"v19"</code>, <code>"v20"</code>, <code>"v23"</code>, and <code>"v24"</code>.</li>
<li>steps were adjusted to minimize out of bounds colors, which <code>colorspace</code> and <code>farver</code> handle by adjusting other color channels; sometimes substantially changing the output color hue. This change sometimes caused the color hue sequence to reverse itself to accommodate the requested <code>C</code> and <code>L</code> values, and was the driving use case for the refactored arguments <code>preset</code> and <code>steps</code>.</li>
</ul></li>
</ul></li>
<li>
<p><code><a href="../reference/color_pie.html">color_pie()</a></code></p>
<ul><li>text labels are rotated parallel to each pie wedge</li>
<li>text labels use <code><a href="https://rdrr.io/pkg/jamba/man/shadowText.html" class="external-link">jamba::shadowText()</a></code> and <code><a href="https://rdrr.io/pkg/jamba/man/setTextContrastColor.html" class="external-link">jamba::setTextContrastColor()</a></code>
</li>
<li>default radius is now 1.1, to fit most plot devices.</li>
</ul></li>
<li>
<p><code><a href="../reference/closestRcolor.html">closestRcolor()</a></code></p>
<ul><li>New argument <code>Cgrey</code> to recognize when input <code>x</code> colors are greyscale, in which case they are matched with colors from <code>colorSet</code> which are below <code>C_min</code> Chroma saturation. By default, color matching is much improved when using a mix of saturated and unsaturated colors.</li>
</ul></li>
<li>
<p><code><a href="../reference/scale_color_jam.html">scale_color_jam()</a></code>,<code><a href="../reference/scale_fill_jam.html">scale_fill_jam()</a></code>,<code><a href="../reference/jam_pal.html">jam_pal()</a></code></p>
<ul><li>ggplot2-related functions dropped arguments <code>h1</code>,<code>h2</code> (before they could be used), and added argument <code>step</code>.</li>
<li>default <code>preset="dichromat2</code> consistent with <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code>.</li>
</ul></li>
<li>
<p><code><a href="../reference/h2hw.html">h2hw()</a></code>,<code><a href="../reference/hw2h.html">hw2h()</a></code>,<code><a href="../reference/h2hwOptions.html">h2hwOptions()</a></code></p>
<ul><li>new argument default <code>preset=getOption("colorjam.preset", "custom")</code> behaves as previous <code>preset="custom"</code> except that it now honors when the option <code>"colorjam.preset"</code> is defined.</li>
<li>The only two exceptions to <code>preset</code> are with <code><a href="../reference/blend_colors.html">blend_colors()</a></code> and <code><a href="../reference/closestRcolor.html">closestRcolor()</a></code> which both default to <code>"ryb"</code> because those specific use cases favor using the red-yellow-blue color wheel.</li>
</ul></li>
<li>
<p><code><a href="../reference/approx_degrees.html">approx_degrees()</a></code></p>
<ul><li>refactored to improve handling of discontinuous angles, for example when the mapped color wheel wraps above 360 degrees, or below 0 degrees.</li>
</ul></li>
<li>
<p><code><a href="../reference/make_jam_divergent.html">make_jam_divergent()</a></code></p>
<ul><li>New behavior: When <code>linear2</code> is not supplied, it calls <code><a href="../reference/color_complement.html">color_complement()</a></code> to determine a reasonable opposing color, so one can call <code>make_jam_divergent("red")</code> and it will provide a reasonable</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-24-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-24-900"></a></h3>
<ul><li>
<p><code><a href="../reference/adjust_hue_warp.html">adjust_hue_warp()</a></code></p>
<ul><li>helper function to rotate or reverse a color wheel by way of the color hue warp. Maybe eventually the colors can start at gold/yellow and continue either to red or blue, so that the first assigned color will be more “neutral” (yellow) since the first group in a statistical comparison is typically the control. People have suggested the default color for a control group not be brightest red.</li>
</ul></li>
<li>
<p><code>colorjam_preset()</code>,<code><a href="../reference/add_colorjam_preset.html">add_colorjam_preset()</a></code></p>
<ul><li>manages recognized colorjam color hue presets, which allows for custom preset names without modifying the package code.</li>
<li>intended to register (or delete) colorjam named presets, which are custom color wheels.</li>
</ul></li>
<li>
<p><code>colorjam_step()</code>,<code><a href="../reference/add_colorjam_step.html">add_colorjam_step()</a></code></p>
<ul><li>A “step” is a sequence of Luminance/Chroma values intended to maximize visual distinctiveness of consecutive colors.</li>
<li>The purpose of storing steps in the colorjam environment is to allow a convenient way to select a step sequence rather than by defining individual C and L values during the function call.</li>
<li>Specifically, the steps are driven by the change to start colors near yellow, rather than starting at red. For color sequences starting at red, early colors should generally be darker; for sequences starting at yellow or gold, the early colors should generally be lighter.</li>
</ul></li>
<li>
<p><code><a href="../reference/h2hwOptions.html">h2hwOptions()</a></code></p>
<ul><li>now calls <code><a href="../reference/colorjam_presets.html">colorjam_presets()</a></code> instead of using internal values.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.23.900" id="colorjam-0023900">colorjam 0.0.23.900<a class="anchor" aria-label="anchor" href="#colorjam-0023900"></a></h2>
<ul><li>bumped dependency <code>jamba (&gt;= 0.0.83.900)</code> to include <code><a href="https://rdrr.io/pkg/jamba/man/hsl2col.html" class="external-link">hsl2col()</a></code>, <code><a href="https://rdrr.io/pkg/jamba/man/col2hsl.html" class="external-link">col2hsl()</a></code>
</li>
</ul><div class="section level3">
<h3 id="changes-to-existing-functions-0-0-23-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-23-900"></a></h3>
<ul><li><p><code><a href="../reference/subset_colors.html">subset_colors()</a></code> now calls <code><a href="../reference/colors_to_df.html">colors_to_df()</a></code> to create a <code>data.frame</code>, any of whose columns can be used to sort colors.</p></li>
<li>
<p><code><a href="../reference/theme_jam.html">theme_jam()</a></code> changes:</p>
<ul><li>new argument <code>strip.text.size</code> with default <code>ggplot2::rel(0.8)</code> to help adjust facet panel strip text font size directly.</li>
<li>new argument <code>panel.border</code> to make adjustments convenient, by default panels now have thin dark gray outline. Set <code>panel.border=NULL</code> to hide the border.</li>
</ul></li>
<li>
<p><code><a href="../reference/scale_color_jam.html">scale_color_jam()</a></code>, <code><a href="../reference/scale_fill_jam.html">scale_fill_jam()</a></code>, <code><a href="../reference/jam_pal.html">jam_pal()</a></code>:</p>
<ul><li>new argument <code>darken</code> is <code>logical</code>, when <code>darken=TRUE</code> it automatically sets <code>darkFactor</code> and <code>sFactor</code> to reasonable values for subtle darkening. This option is convenient for slightly darker outlines around points.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-23-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-23-900"></a></h3>
<ul><li>
<p><code><a href="../reference/colors_to_df.html">colors_to_df()</a></code> convert vector of colors to <code>data.frame</code> with column values representing several common colorspace formats. Note that HSL color dimensions have prefix <code>"hsl_"</code>, for example <code>"hsl_h"</code>, <code>"hsl_s"</code>, and <code>"hsl_l"</code>.</p>
<ul><li>For some reason, the H hue values in HCL do not match the hue values in HSL, despite both being angles with range <code>c(0, 360)</code>. Fun.</li>
<li>It is a non-linear conversion of hue which makes sense, it appears that HSV, HSL, and RGB share the same “color wheel”, derived from the red-green-blue maxima used for computer monitors. HCL added an offset +12.2 degrees to every color, probably so color sorting would always have variations of red appearing first, near zero, avoiding some colors being -0.1 and sorting last with hue 359.9.</li>
<li>Surprising that the hue sort order is not shared between HCL and HSL, although it is probably caused by conversion of low-chroma/saturation colors, with underlying numeric rounding errors. It could be that HCL is based upon perception, giving slightly stronger weight to the perceptiveness of certain color components.</li>
</ul></li>
<li><p><code><a href="../reference/sort_colors.html">sort_colors()</a></code> applied sort criteria to data returned by <code><a href="../reference/colors_to_df.html">colors_to_df()</a></code>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="hsl-color-update-preparation-0-0-23-900">HSL color update (preparation)<a class="anchor" aria-label="anchor" href="#hsl-color-update-preparation-0-0-23-900"></a></h3>
<p>I anticipate the <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> function will shift from using HCL, instead to using HSL for color selection.</p>
<p>Summary of thought process so far:</p>
<ul><li>HCL colors “out of gamut” are capped by each color channel, causing the hue returned to differ from the hue requested in HCL color space.</li>
<li>HCL has the benefit that in general, the C and L values can be used to determine perceptive color difference between colors, allowing one to set a minimum perceived color difference threshold. However, every color hue has a different color gamut of allowable C and L values, making it difficult to apply consistent rules to each color hue.</li>
<li>HSL has the benefit that all “full saturation colors” for each hue has the same coordinate (S=100, L=50), however there is no guarantee that surrounding colors have consistent perceptual difference.</li>
<li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> uses “tricked out” C and L sequences, that request higher C chroma than possible for most hues, causing it to return higher saturation than typical. Meanwhile the L values help create 6 distinct colors for every hue.</li>
<li>The downside is the hue is often different than requested, causing problems with the <code>n</code> is high, sometimes a series of colors have nearly identical hue due to the conversion issues described above.</li>
<li>Also, practically speaking, colors like <code>"yellow"</code> are effectively lost, since it is brighter with higher chroma than other color hues No C,L sequence could permit using yellow and other color hues with these C and L values. Large swaths of beautiful colors would never be chosen for categorical color sets, and we just cannot have that. Cue the “de Blob” video game cut scene.</li>
<li>So the hope is to use HSL, and S,L value sequence to fill the gap.</li>
<li>Surprisingly, HSL hues have different spacing than HCL hues, which means even a red-yellow-blue color wheel will require new color warp adjustments.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.22.950" id="colorjam-0022950">colorjam 0.0.22.950<a class="anchor" aria-label="anchor" href="#colorjam-0022950"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-22-950">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-22-950"></a></h3>
<ul><li>
<code><a href="../reference/approx_degrees.html">approx_degrees()</a></code> was calling <code><a href="https://rdrr.io/pkg/jamba/man/tcount.html" class="external-link">tcount()</a></code> from the <code>jamba</code> package, and because the <code>jamba</code> package is listed as “Depends” its functions are loaded and available to <code>colorjam</code> once it is loaded. However, for some curious reason in R internals, when the function is called directly <code><a href="../reference/approx_degrees.html">colorjam::approx_degrees()</a></code> it does not import <code>jamba</code> functions, therefore <code><a href="https://rdrr.io/pkg/jamba/man/tcount.html" class="external-link">jamba::tcount()</a></code> is not available, and it throws an error. The issue was reported via the <code>venndir</code> package, where default usage of <code>venndir</code> causes an error for the most basic operations. The workaround is to load colorjam or jamba first, however the real fix is to include package prefix here.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.22.900" id="colorjam-0022900">colorjam 0.0.22.900<a class="anchor" aria-label="anchor" href="#colorjam-0022900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-22-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-22-900"></a></h3>
<p>A new hue warp preset is available, a fully corrected “red-yellow-blue” gradient which is intended to provide full color complement capability. However, <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> is preparing for a larger update that focuses on choosing colors within gamut for each color hue. The <code>colorspace</code> and <code>farver</code> color conversion functions are able to provide colors outside of gamut but altering some components which ultimately change the hue. As a result, the hue sequence from <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> is sometimes out of order due to that correction. A new method that returns strictly correct hue within gamut is being tested and will be applied in an upcoming release.</p>
<p>New default <code>preset="custom"</code> is used in several functions, which will re-use any defined <code>h1</code> and <code>h2</code> values in <code>options("h2hw.h1")</code> and <code>options("h2hw.h2")</code>, otherwise it will use <code>default_preset="dichromat"</code>. For the default scenario, nothing will change. When a custom <code>h1</code> and <code>h2</code> should be used, it will be easier for it to be applied by default. Setting <code>preset</code> to any named value will override any stored <code>h1</code> and <code>h2</code> values.</p>
<ul><li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> argument value changed <code>hue_pad_percent=0</code>, subtle change that means there is less color buffer between the first and last color in the hue sequence. This argument was most useful as a partial workaround to the color hue gamut conversion “bug” in colorspace and farver. Not technically a bug, as it is documented behavior, but the output is not what one would expect imo.</li>
<li>
<code><a href="../reference/approx_degrees.html">approx_degrees()</a></code> was modified to simplify the logic, and to handle special cases like inverted angles, and rotated angles.</li>
<li>
<code><a href="../reference/h2hwOptions.html">h2hwOptions()</a></code>, <code><a href="../reference/h2hw.html">h2hw()</a></code>, <code><a href="../reference/hw2h.html">hw2h()</a></code>, and <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> default argument changed to <code>preset="custom"</code> which will preserve any pre-existing <code>h1,h2</code> values, otherwise a named <code>preset</code> will take priority and define <code>h1,h2</code> values directly.</li>
<li>
<code><a href="../reference/scale_color_jam.html">scale_color_jam()</a></code>, <code><a href="../reference/scale_fill_jam.html">scale_fill_jam()</a></code>, <code><a href="../reference/jam_pal.html">jam_pal()</a></code> were updated to use <code>preset="custom"</code> by default, and to pass <code>h1</code> and <code>h2</code> arguments.</li>
</ul><p>New option:</p>
<ul><li>
<code>options("colorjam.preset")</code> as a convenient way to maintain the current preset.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.21.900" id="colorjam-0021900">colorjam 0.0.21.900<a class="anchor" aria-label="anchor" href="#colorjam-0021900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-21-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-21-900"></a></h3>
<ul><li>
<code><a href="../reference/closestRcolor.html">closestRcolor()</a></code> and <code><a href="../reference/twostep_gradient.html">twostep_gradient()</a></code> were updated to use proper package prefixing to the <code>jamba</code> package.</li>
<li>
<code><a href="../reference/scale_color_jam.html">scale_color_jam()</a></code> and <code><a href="../reference/scale_fill_jam.html">scale_fill_jam()</a></code> no longer <code><a href="https://ggplot2.tidyverse.org" class="external-link">require(ggplot2)</a></code>, and use <code><a href="https://rdrr.io/pkg/jamba/man/check_pkg_installed.html" class="external-link">jamba::check_pkg_installed()</a></code> to test whether ggplot2 is available. Added examples for both.</li>
<li>
<code><a href="../reference/theme_jam.html">theme_jam()</a></code> no longer <code><a href="https://ggplot2.tidyverse.org" class="external-link">require(ggplot2)</a></code> and now properly calls <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">ggplot2::theme_classic()</a></code> with argument <code>resetTheme=TRUE</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.20.900" id="colorjam-0020900">colorjam 0.0.20.900<a class="anchor" aria-label="anchor" href="#colorjam-0020900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-20-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-20-900"></a></h3>
<ul><li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> arguments <code>Lvals</code> and <code>Cvals</code> were updated, making the categorical palette brighter overall, with more color saturation, and visible distinction in neighboring colors at higher <code>n</code> values. The examples in <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> were updated to show a before and after comparison.</li>
</ul></div>
<div class="section level3">
<h3 id="new-experimental-function-0-0-20-900">new experimental function<a class="anchor" aria-label="anchor" href="#new-experimental-function-0-0-20-900"></a></h3>
<ul><li>
<code><a href="../reference/rainbowJamMulti.html">rainbowJamMulti()</a></code> is intended to extend <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> specifically when a list of categorical colors should be created at once, in a way that prevents duplicate colors.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.19.900" id="colorjam-0019900">colorjam 0.0.19.900<a class="anchor" aria-label="anchor" href="#colorjam-0019900"></a></h2>
<p>Several new functions, and two new data objects with color gradients; pkgdown site documentation was updated to showcase several new visual examples in for the new color functions.</p>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-19-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-19-900"></a></h3>
<ul><li>
<code><a href="../reference/scale_color_jam.html">scale_color_jam()</a></code>, <code><a href="../reference/scale_fill_jam.html">scale_fill_jam()</a></code> and <code><a href="../reference/jam_pal.html">jam_pal()</a></code> have a new argument <code>preset</code> which is passed along to <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> to define the color hue wheel preset. The default <code>preset="dichromat"</code> uses color blind friendly color hue wheel (mainly by omitting green). The full rainbow can be used with <code>preset="ryb"</code> which uses the enhanced red-yellow-blue color hue wheel, where green is a secondary color between yellow and blue. The default R red-green-blue color hue wheel can be used with <code>preset="rgb"</code> although this palette is optimal for computer monitor use of RGB, and not at all optimal for human perception, even among those who can see the full rainbow of color hues.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-19-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-19-900"></a></h3>
<ul><li><p><code><a href="../reference/subset_colors.html">subset_colors()</a></code> is a subset function for a vector of R colors, which allows rapid operations on any RGB, HCL, or HSV attribute.</p></li>
<li>
<p><code><a href="../reference/col_div_xf.html">col_div_xf()</a></code> produces a color function that maps numeric values to divergent color gradient. Its arguments define the numeric range, and optional floor. The floor is a range below which the absolute numeric value is assigned the middle color, useful to represent visual whether a point meets a numeric threshold. This function is motivated to be used with argument <code>"col"</code> in <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">ComplexHeatmap::Heatmap()</a></code>, to define a numeric range with zero as the fixed mid-point associated with divergent colors. The name of the function is derived as follows:</p>
<ul><li>
<code>col</code> matching the argument in <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">ComplexHeatmap::Heatmap()</a></code> <code>"col"</code>
</li>
<li>
<code>div</code> for divergent colors</li>
<li>
<code>x</code> for the <code>x</code>-defined numeric range</li>
<li>
<code>f</code> for ability to apply a numeric floor</li>
</ul></li>
<li>
<p><code><a href="../reference/col_linear_xf.html">col_linear_xf()</a></code> is the linear/sequential color equivalent to <code><a href="../reference/col_div_xf.html">col_div_xf()</a></code>. It is useful for two features:</p>
<ul><li>define a fixed numeric ceiling for color assignment</li>
<li>define optional numeric floor, below which numeric values are assigned the first color, which is usually the blank color in the color gradient.</li>
</ul></li>
<li><p><code><a href="../reference/make_jam_divergent.html">make_jam_divergent()</a></code> creates a divergent color gradient with lite (white) or dark (black) middle color as appropriate. It can recognize one of the new Jam gradients from <code>jam_linear</code> or `jam_divergent (see below).</p></li>
<li><p><code><a href="../reference/twostep_gradient.html">twostep_gradient()</a></code> is a simple but fairly exciting new function that produces a linear/sequential color gradient - which means it proceeds from a baseline color to the saturated color - while also applying two intermediate color gradients to improve visual perception. Most gradients from <code>RColorBrewer</code> employ this technique to expand the range of colors, and to improve visibility of each color step by varying both the brightness, and the color hue. See examples for visual illustrations.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-color-objects-0-0-19-900">new color objects<a class="anchor" aria-label="anchor" href="#new-color-objects-0-0-19-900"></a></h3>
<p>Two new color gradient objects are added, and are still under some development as they are being used to gain feedback. They are both motivated by the use case of providing color gradients for genome sequence coverage heatmaps, provided by <code>"platjam"</code> package which extends Bioconductor <code>EnrichedHeatmap</code>, itself an extension by author of <code>ComplexHeatmap</code>.</p>
<p>These colors aim to provide color-blind-friendly color gradients, while providing some utility of categorical coloring for different panels of a coverage heatmap. Essentially these colors avoid the range of green hues, which vastly improves visual distinctiveness for the three color blindness forms emulated by <code><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html" class="external-link">dichromat::dichromat()</a></code>.</p>
<ul><li>
<code>jam_linear</code> is a new R <code>list</code> object that contains a set of linear color gradients with white background color. These are intended to be paired with <code>jam_divergent</code>. The names in <code>jam_linear</code> are also used in <code>jam_divergent</code>.</li>
<li>
<code>jam_divergent</code> is a new R <code>list</code> object that contains a set of divergent color gradients with black background color to distinguish itself from <code>jam_linear</code>. The names in <code>jam_divergent</code> are also used in <code>jam_linear</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.18.900" id="colorjam-0018900">colorjam 0.0.18.900<a class="anchor" aria-label="anchor" href="#colorjam-0018900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes--enhancements-0-0-18-900">bug fixes / enhancements<a class="anchor" aria-label="anchor" href="#bug-fixes--enhancements-0-0-18-900"></a></h3>
<ul><li>
<code><a href="../reference/blend_colors.html">blend_colors()</a></code> was updated to handle blending entirely grey sets of colors. Previously they failed to blend because the lack of any color saturation also have them zero weight.</li>
<li>
<code><a href="../reference/blend_colors.html">blend_colors()</a></code> new argument <code>c_floor</code> defines the <code>C</code> chroma color saturation floor, below which a color is considered to have no color hue. Technically it is given hue weight 0.0001.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.17.900" id="colorjam-0017900">colorjam 0.0.17.900<a class="anchor" aria-label="anchor" href="#colorjam-0017900"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-0-17-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-17-900"></a></h3>
<ul><li>
<code><a href="../reference/mean_angle.html">mean_angle()</a></code> had bare reference to <code><a href="https://rdrr.io/pkg/jamba/man/deg2rad.html" class="external-link">jamba::deg2rad()</a></code> which was fixed. This fixed an error in <code><a href="../reference/blend_colors.html">blend_colors()</a></code> when the <code>jamba</code> was not attached.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.16.900" id="colorjam-0016900">colorjam 0.0.16.900<a class="anchor" aria-label="anchor" href="#colorjam-0016900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-16-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-16-900"></a></h3>
<ul><li>
<code><a href="../reference/blend_colors.html">blend_colors()</a></code> performs paint color mixing, very close to subtractive color blending with some modifications to account for red-yellow-blue color wheel. It can mix more than two colors, and accounts for color transparency. This function currently performs better than any other color mixing function I am aware of in R – judged by the tendency to return what is “expected” in more cases than not.</li>
<li>
<code><a href="../reference/mean_angle.html">mean_angle()</a></code> takes a vector of angles in degrees, optionally with weights, and returns the average angle along with the new radius. Internally it takes the average unit vector (scaled by weights if supplied).</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-16-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-16-900"></a></h3>
<ul><li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> was modified to clean up the internal workflow. Specifically, the argument <code>preset</code> is more prominent, making it easy to call <code>rainbowJam(5, preset="ryb")</code> for example. The hue padding was also modified to reduce most cases to zero padding – this padding added separation between the first and last color hues in a sequence, to prevent them from being too similar when the <code>Cvals</code> and <code>Lvals</code> sequence was not optimal.</li>
<li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> new argument <code>phase</code> allows shifting the <code>Cvals</code>,<code>Lvals</code> sequence by steps, or to reverse the sequence, in order to create more varied color sets.</li>
<li>
<code><a href="../reference/h2hw.html">h2hw()</a></code> and <code><a href="../reference/hw2h.html">hw2h()</a></code> functions have new argument <code>preset</code> which calls <code><a href="../reference/h2hwOptions.html">h2hwOptions()</a></code> and uses the appropriate color wheel. This change makes it easier to convert color hues with <code>h2hw(60, preset="ryb")</code> to convert default RGB yellow (hue=60) to RYB yellow (hue=120).</li>
<li>
<code><a href="../reference/closestRcolor.html">closestRcolor()</a></code> argument <code>preset</code> defaults to <code>ryb</code>, to avoid using <code>dichromat</code> for closest-color calculations.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.15.900" id="colorjam-0015900">colorjam 0.0.15.900<a class="anchor" aria-label="anchor" href="#colorjam-0015900"></a></h2>
<div class="section level3">
<h3 id="changes-to-existing-functions-0-0-15-900">changes to existing functions<a class="anchor" aria-label="anchor" href="#changes-to-existing-functions-0-0-15-900"></a></h3>
<ul><li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> arguments <code>Lvals</code> and <code>Cvals</code> were manually adjusted based upon initial usage and feedback.</li>
<li>
<code><a href="../reference/h2hwOptions.html">h2hwOptions()</a></code> was refactored to have a cleaner workflow. It explicitly defines <code>getOptions()</code> in default argument values, which can be replace by defining <code>preset</code>. There is new argument <code>default_preset</code> so the first time this function is called, it knows which preset to use for initial values.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-15-900">bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-15-900"></a></h3>
<ul><li>
<code><a href="../reference/group2colors.html">group2colors()</a></code> fixed a longstanding bug where input values that contain <code>""</code> would return <code>NA</code> with <code>NA</code> name. This occurs from referencing a vector using name <code>""</code> which R forces to return <code>NA</code>. Instead <code><a href="../reference/group2colors.html">group2colors()</a></code> now uses <code>match(x, names(colors))</code> which works properly.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.14.900" id="colorjam-0014900">colorjam 0.0.14.900<a class="anchor" aria-label="anchor" href="#colorjam-0014900"></a></h2>
<div class="section level3">
<h3 id="more-changes-to-rainbowjam-0-0-14-900">more changes to rainbowJam()<a class="anchor" aria-label="anchor" href="#more-changes-to-rainbowjam-0-0-14-900"></a></h3>
<p>There will almost certainly be more changes, after using the updated <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> for a while and experiencing the cascade effects. For now, I had to make some changes, to force me to continue making more changes as needed.</p>
<p>After using the updated <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> for a few months, a few things became clear:</p>
<ul><li>Red-orange-yellow as the first three colors, is not terrible, but has substantial problems when trying to split into light-dark variations. The dark-yellow and light-orange were nearly identical. (Also R is not great at keeping the hue for orange consistent when adjusting luminance. Nobody will hear this feedback, that’s okay.)</li>
<li>The use of green and variations of green, are problematic with color-blind viewers, making the whole function not ideal, if a substantial user base doesn’t see beautiful colors at the end.</li>
<li>Ultimately there were too many cases where I would call <code>rainbowJam(n + 20)</code> and hand-pick colors from the set. That is almost exactly the problem I was originally trying to solve with <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code>, which means the function was failing.</li>
<li>Last is a small thing, <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> padded the end of the hue sequence to avoid having similar first and last color, with identical C,L values. When that happened, it added an aggressive hue pad so the colors would still differ. Long story short, there weren’t enough beautiful purples and pinks.</li>
</ul><p>Overall changes:</p>
<ul><li>
<code><a href="../reference/h2hwOptions.html">h2hwOptions()</a></code> defines custom color wheels, by adjusting the hue from rgb to any non-linear sequence. It has new argument <code>preset</code> with some named shortcut options: <code>"rgb"</code> the R default; <code>"ryb"</code> the previous red-yellow-blue, which still includes green; <code>"dichromat"</code> new option that removes green altogether, and spaces the remaining hues based upon my perceived consistent visible distinctiveness between steps. I tried to adjust for effects simulated by <code><a href="https://rdrr.io/pkg/dichromat/man/dichromat.html" class="external-link">dichromat::dichromat()</a></code> for the three types it provides.</li>
<li>
<code><a href="../reference/h2hwOptions.html">h2hwOptions()</a></code> new default is <code>preset="dichromat"</code>! Substantial change, no more green colors. To change back call <code>h2hwOptions(preset="ryb")</code> or <code>h2hwOptions(preset="rgb")</code>. <em>shudder</em>
</li>
<li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> argument <code>Cvals</code> was uniformly increased by 30. It turns out the conversion from HCL already handles values too high, by favoring luminance over chroma – meaning when we request a certain brightness, we get that brighness even at the expense of lower chroma (saturation.) Thus most of the work is done by the <code>Lvals</code> luminance, and the chroma should generally be as high as feasible with few adjustments.</li>
<li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> by default does not pad the last hue color. Instead the <code>preset="dichromat"</code> default in <code><a href="../reference/h2hwOptions.html">h2hwOptions()</a></code> adjusts the hues from 300 to 360 (which were almost nearly identical pink anyway) to take up less of the color wheel.</li>
<li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> flipped the 2nd and 3rd values in <code>Lvals</code>. Even when calling <code>rainbowJam(4, preset="ryb2")</code>, it won’t give the same results as before this update, without also changing the 2nd and 3rd values in <code>Lvals</code>. I realize, only I care.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.13.900" id="colorjam-0013900">colorjam 0.0.13.900<a class="anchor" aria-label="anchor" href="#colorjam-0013900"></a></h2>
<div class="section level3">
<h3 id="substantial-changes-to-rainbowjam-0-0-13-900">Substantial changes to rainbowJam()<a class="anchor" aria-label="anchor" href="#substantial-changes-to-rainbowjam-0-0-13-900"></a></h3>
<ul><li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> was refactored to address longstanding critique that the colors were too muddy. New logic is present in <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> and the previous function is available with <code><a href="../reference/rainbowJam_v1.html">rainbowJam_v1()</a></code> for backward compatibility. The new colors are much brighter and will need testing over time to evaluate the effects on downstream uses. That said, the colors are so much improved, it seems reasonable to replace the previous function for now.</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-0-0-13-900">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-0-0-13-900"></a></h3>
<ul><li>The R files were slightly refactored to split functions into different files.</li>
</ul></div>
<div class="section level3">
<h3 id="new-function-0-0-13-900">New function<a class="anchor" aria-label="anchor" href="#new-function-0-0-13-900"></a></h3>
<ul><li>
<code><a href="../reference/color_pie.html">color_pie()</a></code> is a simple function to display colors in pie chart form, which is helpful to assess the first and last color in a rainbow color ramp. In fact, <code><a href="../reference/color_pie.html">color_pie()</a></code> might be moved into <code><a href="https://rdrr.io/pkg/jamba/man/showColors.html" class="external-link">jamba::showColors()</a></code> as an optional output format. Current challenge is how to label each ring, when the input is a list of color vectors.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.12.900" id="colorjam-0012900">colorjam 0.0.12.900<a class="anchor" aria-label="anchor" href="#colorjam-0012900"></a></h2>
<div class="section level3">
<h3 id="changes-0-0-12-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-12-900"></a></h3>
<ul><li>
<code><a href="../reference/theme_jam.html">theme_jam()</a></code> was updated to make the major and minor grid lines a lighter shade of gray, so they have less interference with text labels on a plot panel.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.11.900" id="colorjam-0011900">colorjam 0.0.11.900<a class="anchor" aria-label="anchor" href="#colorjam-0011900"></a></h2>
<div class="section level3">
<h3 id="changes-0-0-11-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-11-900"></a></h3>
<ul><li>
<code><a href="../reference/scale_fill_jam.html">scale_fill_jam()</a></code>, <code><a href="../reference/scale_color_jam.html">scale_color_jam()</a></code>, and <code><a href="../reference/jam_pal.html">jam_pal()</a></code> have an argument <code>alpha</code> to control alpha transparency, on a scale of 0 (transparent) to 1 (non-transparent.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.10.900" id="colorjam-0010900">colorjam 0.0.10.900<a class="anchor" aria-label="anchor" href="#colorjam-0010900"></a></h2>
<div class="section level3">
<h3 id="changes-0-0-10-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-10-900"></a></h3>
<ul><li>
<code><a href="../reference/closestRcolor.html">closestRcolor()</a></code> was updated to handle new behavior from <code><a href="https://rdrr.io/pkg/jamba/man/col2hcl.html" class="external-link">col2hcl()</a></code> which by default does not assign names to unnamed vectors.</li>
<li>
<code><a href="../reference/closestRcolor.html">closestRcolor()</a></code> now has <code>method</code> argument to define the distance method (see <code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">stats::dist()</a></code>); added optional “LUV” color model. In some cases “LUV” has greater sensitivity albeit with less accuracy. In other words for large color vectors, “LUV” may produce the most non-repeated colors at cost of accuracy, while “hcl” tends to be more accurate but sometimes snaps two similar colors to the same closest R color. Future work should probably handle greyscale colors separately.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.9.900" id="colorjam-009900">colorjam 0.0.9.900<a class="anchor" aria-label="anchor" href="#colorjam-009900"></a></h2>
<div class="section level3">
<h3 id="changes-0-0-9-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-9-900"></a></h3>
<ul><li>
<code><a href="../reference/vals2colorLevels.html">vals2colorLevels()</a></code> was updated to handle edge cases where input values had no numeric range.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.8.900" id="colorjam-008900">colorjam 0.0.8.900<a class="anchor" aria-label="anchor" href="#colorjam-008900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-8-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-8-900"></a></h3>
<ul><li>
<code><a href="../reference/vals2colorLevels.html">vals2colorLevels()</a></code> converts a numeric vector into a color gradient, optionally divergent around a baseline, optionally applying the color warp using <code><a href="https://rdrr.io/pkg/jamba/man/warpRamp.html" class="external-link">jamba::warpRamp()</a></code> and a <code>lens</code> adjustment value.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.7.900" id="colorjam-007900">colorjam 0.0.7.900<a class="anchor" aria-label="anchor" href="#colorjam-007900"></a></h2>
<div class="section level3">
<h3 id="changes-0-0-7-900">changes<a class="anchor" aria-label="anchor" href="#changes-0-0-7-900"></a></h3>
<ul><li>Added more function prefixes “jamba::” to avoid handle the inconsistent import implementation in R.</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions-0-0-7-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-7-900"></a></h3>
<ul><li>
<code><a href="../reference/matrix2heatColors.html">matrix2heatColors()</a></code> to apply color gradient to each column in a matrix, where each column has its own color scale.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.5.900" id="colorjam-005900">colorjam 0.0.5.900<a class="anchor" aria-label="anchor" href="#colorjam-005900"></a></h2>
<div class="section level3">
<h3 id="additions-0-0-5-900">additions<a class="anchor" aria-label="anchor" href="#additions-0-0-5-900"></a></h3>
<ul><li>A README.Rmd file was created with a basic walkthrough for colorjam.</li>
<li>DESCRIPTION was changed to move “jamba” to the “Depends:” field. Guidance from R Package Development and R central docs is cryptic on this point.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.4.900" id="colorjam-004900">colorjam 0.0.4.900<a class="anchor" aria-label="anchor" href="#colorjam-004900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-4-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-4-900"></a></h3>
<ul><li>
<code><a href="../reference/theme_jam.html">theme_jam()</a></code> which provides a Jam-specific ggplot2 default.</li>
<li>
<code><a href="../reference/scale_color_jam.html">scale_color_jam()</a></code>, <code><a href="../reference/scale_fill_jam.html">scale_fill_jam()</a></code>, and <code><a href="../reference/jam_pal.html">jam_pal()</a></code> provide categorical colors and fills, respectively, using <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-and-enhancements-0-0-4-900">bug fixes and enhancements<a class="anchor" aria-label="anchor" href="#bug-fixes-and-enhancements-0-0-4-900"></a></h3>
<ul><li>Updated DESCRIPTION to include proper “Remotes” entry pointing to the Github jamba package.</li>
<li>Updated <code><a href="../reference/closestRcolor.html">closestRcolor()</a></code> to fix a small bug with name handling of the output.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.3.900" id="colorjam-003900">colorjam 0.0.3.900<a class="anchor" aria-label="anchor" href="#colorjam-003900"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-0-3-900">new functions<a class="anchor" aria-label="anchor" href="#new-functions-0-0-3-900"></a></h3>
<ul><li>
<code><a href="../reference/group2colors.html">group2colors()</a></code> takes a vector of group labels and assigns categorical colors, by default using <code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> but which can be substituted with other color functions as needed. It maintains order of factor levels, otherwise uses <code><a href="https://rdrr.io/pkg/jamba/man/mixedSort.html" class="external-link">jamba::mixedSort()</a></code> to order unique labels before assigning colors.</li>
<li>
<code><a href="../reference/closestRcolor.html">closestRcolor()</a></code> finds the closest named R color from <code><a href="https://rdrr.io/r/grDevices/colors.html" class="external-link">colors()</a></code> and returns that name. It can also be given a custom color vector, and will return the closest color for each color in the input list.</li>
<li>
<code><a href="../reference/rainbowJam.html">rainbowJam()</a></code> is the key categorical color function for the JAM package suite. It uses Red-Yellow-Blue color wheel, and uses a pattern of alternating Chroma (color saturation) and Luminance (visible brightness) to maximize the difference between adjacent colors.</li>
</ul></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

