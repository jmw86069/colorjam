<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Make divergent color gradient — make_jam_divergent • colorjam</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Make divergent color gradient — make_jam_divergent"><meta name="description" content="Make divergent color gradients that may also use jam_linear and jam_divergent"><meta property="og:description" content="Make divergent color gradients that may also use jam_linear and jam_divergent"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">colorjam</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.30.900</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jmw86069/colorjam/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Make divergent color gradient</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmw86069/colorjam/blob/HEAD/R/colorjam-gradient.R" class="external-link"><code>R/colorjam-gradient.R</code></a></small>
      <div class="d-none name"><code>make_jam_divergent.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Make divergent color gradients that may also use jam_linear and jam_divergent</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_jam_divergent</span><span class="op">(</span><span class="va">linear1</span>, linear2 <span class="op">=</span> <span class="cn">NULL</span>, lite <span class="op">=</span> <span class="cn">TRUE</span>, n <span class="op">=</span> <span class="fl">21</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-linear-">linear1<a class="anchor" aria-label="anchor" href="#arg-linear-"></a></dt>
<dd><p><code>character</code> input consisting of one of:</p><ul><li><p>a single <code>character</code> R color</p></li>
<li><p>a single <code>character</code> color gradient name</p></li>
<li><p>a <code>character</code> vector of R colors. When supplying a vector of colors,
the order is expected to be from blank to maximum color</p></li>
</ul></dd>


<dt id="arg-linear-">linear2<a class="anchor" aria-label="anchor" href="#arg-linear-"></a></dt>
<dd><p><code>character</code> input consisting of one of:</p><ul><li><p>a single <code>character</code> R color</p></li>
<li><p><code>NULL</code> in which case the color(s) defined by <code>linear1</code> are
passed to <code><a href="color_complement.html">color_complement()</a></code></p></li>
<li><p>a single <code>character</code> color gradient name</p></li>
<li><p>a <code>character</code> vector of R colors. When supplying a vector of colors,
the order is expected to be from blank to maximum color</p></li>
</ul></dd>


<dt id="arg-lite">lite<a class="anchor" aria-label="anchor" href="#arg-lite"></a></dt>
<dd><p><code>logical</code> indicating whether the middle color
should be lite (white), or when <code>lite=FALSE</code> the middle
color will be dark (black). When <code>linear1</code> or <code>linear2</code> are provided
as a named color gradient, such as <code>"Reds"</code> or <code>"Blues"</code>, that
gradient is used as-is, even if the gradient is designed with
a light (or dark) neutral color, therefore ignoring <code>lite</code>.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p><code>integer</code> number of final colors to produce. Note that
<code>n</code> must be an odd number, in order to preserve the middle color.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments are passed to functions called
as needed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is intended for a broad capability to create divergent
color gradients. It can take several types of input for each "side"
of a divergent gradient, and will apply light (white) or dark (black)
middle color as defined.</p>
<p>The types of input recognized:</p><ul><li><p><code>character</code> string indicating a single R color, which is passed to
<code><a href="https://rdrr.io/pkg/jamba/man/getColorRamp.html" class="external-link">jamba::getColorRamp()</a></code> in order to create one linear color gradient
with the relevant light or dark baseline color.</p></li>
<li><p><code>character</code> vector indicating a specific sequence of R colors, also
passed to <code><a href="https://rdrr.io/pkg/jamba/man/getColorRamp.html" class="external-link">jamba::getColorRamp()</a></code> to return a single linear color gradient.
In this case, the color vector should already include the baseline light (white)
or dark (black) color. The order of colors is expected to be from
blank color to maximum color.</p></li>
<li><p><code>character</code> string indicating the name of a recognized color gradient,
which can be from <code>RColorBrewer</code>, <code>viridis</code>, or one of the names
in <code>jam_linear</code>.</p></li>
</ul><p>When a color from <code>jam_linear</code> is provided, the appropriate gradient
is used for the corresponding lite or dark baseline color,
where <code>lite=TRUE</code> uses <code>jam_linear</code>, and <code>lite=FALSE</code> uses the
appropriate half gradient from <code>jam_divergent</code>.</p>
<p>Note that this function does not apply the color gradient to a range
of numeric values. For that capability, use <code><a href="col_div_xf.html">col_div_xf()</a></code> with the
color gradient produced by this function.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other colorjam gradients:
<code><a href="col_div_xf.html">col_div_xf</a>()</code>,
<code><a href="col_linear_xf.html">col_linear_xf</a>()</code>,
<code><a href="twostep_gradient.html">twostep_gradient</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/showColors.html" class="external-link">showColors</a></span><span class="op">(</span><span class="va">jam_linear</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-1.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">jg1</span> <span class="op">&lt;-</span> <span class="fu">make_jam_divergent</span><span class="op">(</span><span class="st">"royalblue"</span>, <span class="st">"orangered"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/showColors.html" class="external-link">showColors</a></span><span class="op">(</span><span class="va">jg1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-2.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="showDichromat.html">showDichromat</a></span><span class="op">(</span><span class="va">jg1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-3.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">jg1b</span> <span class="op">&lt;-</span> <span class="fu">make_jam_divergent</span><span class="op">(</span><span class="st">"royalblue"</span>, main<span class="op">=</span><span class="st">"Supplied as one color"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/showColors.html" class="external-link">showColors</a></span><span class="op">(</span><span class="va">jg1b</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-4.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">jg2</span> <span class="op">&lt;-</span> <span class="fu">make_jam_divergent</span><span class="op">(</span><span class="st">"slateblue"</span>, <span class="st">"firebrick"</span>, n<span class="op">=</span><span class="fl">21</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/showColors.html" class="external-link">showColors</a></span><span class="op">(</span><span class="va">jg2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-5.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="showDichromat.html">showDichromat</a></span><span class="op">(</span><span class="va">jg2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-6.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">jg3</span> <span class="op">&lt;-</span> <span class="fu">make_jam_divergent</span><span class="op">(</span><span class="st">"slateblue"</span>, <span class="st">"firebrick"</span>, lite<span class="op">=</span><span class="cn">FALSE</span>, n<span class="op">=</span><span class="fl">21</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/showColors.html" class="external-link">showColors</a></span><span class="op">(</span><span class="va">jg3</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-7.png" alt="" width="768" height="768"></span>
<span class="r-in"><span><span class="fu"><a href="showDichromat.html">showDichromat</a></span><span class="op">(</span><span class="va">jg3</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-8.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare manually assembled Blues-Reds to "RdBu_r"</span></span></span>
<span class="r-in"><span><span class="va">jg4</span> <span class="op">&lt;-</span> <span class="fu">make_jam_divergent</span><span class="op">(</span><span class="st">"Blues"</span>, <span class="st">"Reds"</span>, lite<span class="op">=</span><span class="cn">TRUE</span>, n<span class="op">=</span><span class="fl">21</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/showColors.html" class="external-link">showColors</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">jg4</span>,</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>RdBu_r<span class="op">=</span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/getColorRamp.html" class="external-link">getColorRamp</a></span><span class="op">(</span><span class="st">"RdBu_r"</span>, n<span class="op">=</span><span class="fl">21</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-9.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># show "inferno"</span></span></span>
<span class="r-in"><span><span class="va">jg5</span> <span class="op">&lt;-</span> <span class="fu">make_jam_divergent</span><span class="op">(</span><span class="st">"inferno"</span>, lite<span class="op">=</span><span class="cn">FALSE</span>, n<span class="op">=</span><span class="fl">21</span>, gradientWtFactor<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/showColors.html" class="external-link">showColors</a></span><span class="op">(</span><span class="va">jg5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_jam_divergent-10.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Optional ComplexHeatmap</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu">jamba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jamba/man/check_pkg_installed.html" class="external-link">check_pkg_installed</a></span><span class="op">(</span><span class="st">"ComplexHeatmap"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">xseq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="op">-</span><span class="fl">1</span>, to<span class="op">=</span><span class="fl">1</span>, by<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="va">mseq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">xseq</span>, ncol<span class="op">=</span><span class="fl">1</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="va">mseq</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">mseq</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="va">hm1</span> <span class="op">&lt;-</span> <span class="fu">ComplexHeatmap</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">Heatmap</a></span><span class="op">(</span><span class="va">m</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>   cluster_columns<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>   cluster_rows<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>   row_names_side<span class="op">=</span><span class="st">"left"</span>,</span></span>
<span class="r-in"><span>   border<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>   heatmap_legend_param<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      border<span class="op">=</span><span class="st">"grey10"</span>,</span></span>
<span class="r-in"><span>      at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="op">-</span><span class="fl">1</span>, to<span class="op">=</span><span class="fl">1</span>, by<span class="op">=</span><span class="fl">0.25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      color_bar<span class="op">=</span><span class="st">"discrete"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   col<span class="op">=</span><span class="va">jg3</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">hm2</span> <span class="op">&lt;-</span> <span class="fu">ComplexHeatmap</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">Heatmap</a></span><span class="op">(</span><span class="va">m</span><span class="op">[</span><span class="fl">21</span><span class="op">:</span><span class="fl">1</span>,<span class="fl">12</span><span class="op">:</span><span class="fl">21</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>   cluster_columns<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>   cluster_rows<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>   border<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>   heatmap_legend_param<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      border<span class="op">=</span><span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>      at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="op">-</span><span class="fl">1</span>, to<span class="op">=</span><span class="fl">1</span>, by<span class="op">=</span><span class="fl">0.25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      color_bar<span class="op">=</span><span class="st">"discrete"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   col<span class="op">=</span><span class="va">jg2</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">hm1</span> <span class="op">+</span> <span class="va">hm2</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Row names of heatmap 2 are not consistent with the main heatmap (1). It</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> may lead to wrong conclusion of your data. Please double check.</span>
<span class="r-plt img"><img src="make_jam_divergent-11.png" alt="" width="768" height="768"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

