<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert numeric matrix to heatmap colors — matrix2heatColors • colorjam</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Convert numeric matrix to heatmap colors — matrix2heatColors" />
<meta property="og:description" content="Convert numeric matrix to heatmap colors" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">colorjam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.21.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/jmw86069/colorjam/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert numeric matrix to heatmap colors</h1>
    <small class="dont-index">Source: <a href='http://github.com/jmw86069/colorjam/blob/master/R/jam-color.R'><code>R/jam-color.R</code></a></small>
    <div class="hidden name"><code>matrix2heatColors.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert numeric matrix to heatmap colors</p>
    </div>

    <pre class="usage"><span class='fu'>matrix2heatColors</span><span class='op'>(</span>
  <span class='va'>x</span>,
  colorV <span class='op'>=</span> <span class='fu'><a href='group2colors.html'>group2colors</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span>,
  defaultBaseColor <span class='op'>=</span> <span class='st'>"#FFFFFF"</span>,
  transformFunc <span class='op'>=</span> <span class='va'>c</span>,
  lens <span class='op'>=</span> <span class='fl'>0</span>,
  shareLimit <span class='op'>=</span> <span class='cn'>TRUE</span>,
  numLimitFactor <span class='op'>=</span> <span class='fl'>0.95</span>,
  numLimit <span class='op'>=</span> <span class='cn'>NULL</span>,
  baseline <span class='op'>=</span> <span class='fl'>0</span>,
  color_below_baseline <span class='op'>=</span> <span class='st'>"#FFFFFF"</span>,
  divergent <span class='op'>=</span> <span class='cn'>FALSE</span>,
  rampN <span class='op'>=</span> <span class='fl'>15</span>,
  trimRamp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>numeric matrix. If there are no <code><a href='https://rdrr.io/r/base/colnames.html'>colnames(x)</a></code> they will
be created using <code><a href='https://rdrr.io/pkg/jamba/man/makeNames.html'>jamba::makeNames(rep("x", ncol(x)))</a></code>.</p></td>
    </tr>
    <tr>
      <th>colorV</th>
      <td><p>character vector of R colors, named by <code><a href='https://rdrr.io/r/base/colnames.html'>colnames(x)</a></code>,
and recycled to <code><a href='https://rdrr.io/r/base/nrow.html'>ncol(x)</a></code> if needed. If <code>colorV</code> is supplied as
a list, the list elements are mapped to <code><a href='https://rdrr.io/r/base/colnames.html'>colnames(x)</a></code> in order.</p></td>
    </tr>
    <tr>
      <th>defaultBaseColor</th>
      <td><p>character vector of R colors used as the default
base color, when <code>colorV</code> is supplied as a vector.</p></td>
    </tr>
    <tr>
      <th>transformFunc</th>
      <td><p>function applied to numeric values before
the color gradient is mapped to numeric values. For example,
<code>transformFunc=function(i)-log10(i)</code> would map colors to P-value
using a <code>-log10(p)</code> transformation.</p></td>
    </tr>
    <tr>
      <th>lens</th>
      <td><p>numeric value passed to <code><a href='https://rdrr.io/pkg/jamba/man/warpRamp.html'>warpRamp()</a></code> to adjust the
distribution of colors along the numeric range.</p></td>
    </tr>
    <tr>
      <th>shareLimit</th>
      <td><p>logical indicating whether one numeric limit <code>numLimit</code>
should be used to define the numeric range for color mapping.</p></td>
    </tr>
    <tr>
      <th>numLimitFactor</th>
      <td><p>when <code>numLimit</code> is NULL, this factor is applied to
the maximum numeric value to determine the <code>numLimit</code>.</p></td>
    </tr>
    <tr>
      <th>numLimit</th>
      <td><p>numeric value to define the maximum numeric value
above which all numeric values are mapped to the maximum color.
When set to <code>NULL</code> the <code>numLimitFactor</code> is used to define
the <code>numLimit</code>.</p></td>
    </tr>
    <tr>
      <th>baseline</th>
      <td><p>numeric value to define the numeric baseline, used
when <code>divergent=FALSE</code>. Values are recycled to <code><a href='https://rdrr.io/r/base/nrow.html'>ncol(x)</a></code> to be
applied to each column individually.</p></td>
    </tr>
    <tr>
      <th>color_below_baseline</th>
      <td><p>color used when numeric value is
below the <code>baseline</code>. Values are recycled to <code><a href='https://rdrr.io/r/base/nrow.html'>ncol(x)</a></code> to be
applied to each column individually. When <code>color_below_baseline</code>
is <code>NULL</code>, the first color in the color ramp is used for all
values below the baseline.</p></td>
    </tr>
    <tr>
      <th>divergent</th>
      <td><p>logical indicating whether to apply colors to the numeric
range symmetric around zero.</p></td>
    </tr>
    <tr>
      <th>rampN</th>
      <td><p>integer value to define the number of color breaks for
each color gradient.</p></td>
    </tr>
    <tr>
      <th>trimRamp</th>
      <td><p>numeric vector with two values, used by
<code><a href='https://rdrr.io/pkg/jamba/man/getColorRamp.html'>jamba::getColorRamp()</a></code> to trim the intermediate color gradient before
creating the final color ramp with length <code>rampN</code>. For example,
by default <code><a href='https://rdrr.io/pkg/jamba/man/getColorRamp.html'>jamba::getColorRamp()</a></code> creates a color gradient with
15 colorr, defined by argument <code>gradientN=15</code>, so the argument
<code>trimRamp=c(4,2)</code> will trim the first 4 colors and the last 2 colors
from the 15-color gradient, before generating the final color
gradient with length <code>rampN</code>. The <code>trimRamp</code> argument is especially
useful to remove the leading white color, or to trim the first
few colors to ensure the first color in the gradient is visibly
different from the background color defined by <code>defaultBaseColor</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical indicating whether to print verbose output.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments are passed to <code><a href='https://rdrr.io/pkg/jamba/man/getColorRamp.html'>jamba::getColorRamp()</a></code>
for additional customization. These arguments are handled across
all columns, and not a column-by-column basis.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is intended as a rapid way of applying a color
gradient to columns of numeric values, where each column
has its own base color. It calls <code><a href='https://rdrr.io/pkg/jamba/man/getColorRamp.html'>jamba::getColorRamp()</a></code>
for each column, and when supplied with one color, it
creates a color gradient from <code>"grey95"</code> to the output
of <code><a href='https://rdrr.io/pkg/jamba/man/color2gradient.html'>jamba::color2gradient()</a></code>.</p>
<p>When <code>lens</code> is non-zero, the color gradient is warped in order
to intensify the color saturation across the numeric range.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other colorjam assignment: 
<code><a href='col_div_xf.html'>col_div_xf</a>()</code>,
<code><a href='col_linear_xf.html'>col_linear_xf</a>()</code>,
<code><a href='group2colors.html'>group2colors</a>()</code>,
<code><a href='rainbowJamMulti.html'>rainbowJamMulti</a>()</code>,
<code><a href='vals2colorLevels.html'>vals2colorLevels</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span>;
<span class='co'># generate a random numeric matrix</span>
<span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span>ncol<span class='op'>=</span><span class='fl'>12</span>, <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>120</span><span class='op'>)</span><span class='op'>)</span>;
<span class='va'>m1n</span> <span class='op'>&lt;-</span> <span class='va'>m1</span>;
<span class='va'>m1n</span><span class='op'>[</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span>, digits<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span>, trim<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>;
<span class='fu'>jamba</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/jamba/man/imageByColors.html'>imageByColors</a></span><span class='op'>(</span>
   <span class='fu'>matrix2heatColors</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>m1</span><span class='op'>)</span>,
      transformFunc<span class='op'>=</span><span class='va'>c</span>,
      divergent<span class='op'>=</span><span class='cn'>FALSE</span>,
      lens<span class='op'>=</span><span class='op'>-</span><span class='fl'>5</span>,
      shareNumLimit<span class='op'>=</span><span class='cn'>TRUE</span>,
      baseline<span class='op'>=</span><span class='fl'>0</span>,
      numLimit<span class='op'>=</span><span class='fl'>4</span><span class='op'>)</span>,
   cellnote<span class='op'>=</span><span class='va'>m1n</span><span class='op'>)</span>;
</div><div class='img'><img src='matrix2heatColors-1.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


