<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Continuous linear color scale for ggplot2, with max and optional floor — scale_color_linear_xf • colorjam</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Continuous linear color scale for ggplot2, with max and optional floor — scale_color_linear_xf"><meta name="description" content="Continuous linear color scale for ggplot2, with max and optional floor"><meta property="og:description" content="Continuous linear color scale for ggplot2, with max and optional floor"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">colorjam</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.34.900</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jmw86069/colorjam/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Continuous linear color scale for ggplot2, with max and optional floor</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmw86069/colorjam/blob/HEAD/R/colorjam-scale-color-div-xf.R" class="external-link"><code>R/colorjam-scale-color-div-xf.R</code></a></small>
      <div class="d-none name"><code>scale_color_linear_xf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Continuous linear color scale for ggplot2, with max and optional floor</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">scale_color_linear_xf</span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  floor <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  baseline <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  lens <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  colramp <span class="op">=</span> <span class="st">"Purples"</span>,</span>
<span>  open_floor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  floor_color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  guide <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hjust <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  aesthetics <span class="op">=</span> <span class="st">"color"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">scale_fill_linear_xf</span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  floor <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  baseline <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  lens <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  colramp <span class="op">=</span> <span class="st">"Purples"</span>,</span>
<span>  open_floor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  floor_color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  guide <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hjust <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  aesthetics <span class="op">=</span> <span class="st">"fill"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>numeric</code> value used as a threshold, where numeric
values at or above this value <code>x</code> are assigned the last
color in the color gradient. Negative values at or below
this negative value <code>-x</code> are assigned the first color
in the color gradient.</p></dd>


<dt id="arg-floor">floor<a class="anchor" aria-label="anchor" href="#arg-floor"></a></dt>
<dd><p><code>numeric</code> optional value where numeric values
between <code>-x</code> and <code>x</code> are assigned the middle color in the
color gradient. Note that values at exactly <code>x</code> or <code>-x</code>
are assigned the next respective color away from the middle
color. When <code>floor=0</code> or <code>floor=NULL</code> no floor is applied,
and colors are assigned using a continuous range of
numeric values from <code>-x</code> to <code>x</code> with length <code>n</code>.</p></dd>


<dt id="arg-baseline">baseline<a class="anchor" aria-label="anchor" href="#arg-baseline"></a></dt>
<dd><p><code>numeric</code> value to define the baseline value, used
when zero is not the initial value. Note that <code>baseline</code> can be
either higher or lower than <code>x</code>, and colors from <code>colramp</code> will
be applied starting at <code>baseline</code> through <code>x</code>.</p></dd>


<dt id="arg-lens">lens<a class="anchor" aria-label="anchor" href="#arg-lens"></a></dt>
<dd><p><code>numeric</code> value indicating a color lens applied
to the color gradient, passed to <code><a href="https://jmw86069.github.io/jamba/reference/getColorRamp.html" class="external-link">jamba::getColorRamp()</a></code>.
Lens values <code>lens &gt; 0</code> will condense the color gradient,
making smaller changes more visually distinct; <code>lens &lt; 0</code>
expands the color gradient, making smaller changes less
visually distinct.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p><code>integer</code> number of colors used for the initial
color gradient. This value is forced to be an odd number,
so the "middle color" will always be represented as one
strict color. Note that when using a <code>floor</code>, the first
non-middle color is used for the <code>floor</code> assignment
which means a smaller <code>n</code> value will assign a more visibly
distinct color than using a larger <code>n</code>. See examples.</p></dd>


<dt id="arg-colramp">colramp<a class="anchor" aria-label="anchor" href="#arg-colramp"></a></dt>
<dd><p><code>character</code> passed to <code><a href="https://jmw86069.github.io/jamba/reference/getColorRamp.html" class="external-link">jamba::getColorRamp()</a></code>
which recognizes one of several forms of input:</p><ul><li><p><code>character</code> string matching the name of a color ramp
from <code>RColorBrewer</code> (see divergent palettes with
<code>RColorBrewer::display.brewer.all(type="div")</code>).
Note that adding <code>"_r"</code> will reverse the color gradient,
so the default <code>"BuRd_r"</code> will create a color gradient
with "blue-white-red" - with red for high values
consistent with "heat" in "heatmaps" - where heat is red.</p></li>
<li><p><code>character</code> vector of R colors, which define a specific
color ramp. This vector will be expanded to <code>n</code> length.</p></li>
</ul></dd>


<dt id="arg-open-floor">open_floor<a class="anchor" aria-label="anchor" href="#arg-open-floor"></a></dt>
<dd><p><code>logical</code> indicating whether colors below
the assigned <code>floor</code> will still receive non-middle color.
Setting <code>open_floor=TRUE</code> is the best method to compare
the effect of assigning the strict middle-color to values
below the <code>floor</code>, versus using gradient colors below the
<code>floor</code>, while all remaining numeric-color assignments
are held constant.</p></dd>


<dt id="arg-floor-color">floor_color<a class="anchor" aria-label="anchor" href="#arg-floor-color"></a></dt>
<dd><p><code>character</code> default NULL, optional fixed color
to apply below the floor threshold. Note that this color
works best when <code>open_floor=FALSE</code>.</p></dd>


<dt id="arg-guide">guide<a class="anchor" aria-label="anchor" href="#arg-guide"></a></dt>
<dd><p><code>GuideLegend</code> object used by ggplot2 to customize the
guide displayed in the legend. Default simply sets the guide legend
values to be reversed, so that higher numeric values appear at
the top of the legend.</p></dd>


<dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p>default NULL uses the breaks and labels defined by
<code><a href="col_div_xf.html">col_div_xf()</a></code>, otherwise suggested <code><a href="https://ggplot2.tidyverse.org/reference/waiver.html" class="external-link">ggplot2::waiver()</a></code> to use its
default.</p></dd>


<dt id="arg-hjust">hjust<a class="anchor" aria-label="anchor" href="#arg-hjust"></a></dt>
<dd><p><code>numeric</code> used to define horizontal justification of numeric
labels. Default 1 uses right-alignment.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments are passed to <code><a href="https://ggplot2.tidyverse.org/reference/continuous_scale.html" class="external-link">ggplot2::continuous_scale()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code><a href="https://ggplot2.tidyverse.org/reference/Scale.html" class="external-link">ggplot2::ScaleContinuous</a></code> object which inherits <code>ggproto</code>,
suitable to use in ggplot2 composition.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is intended to provide ggplot2 color scales
using the same logic applied in <code><a href="col_linear_xf.html">col_linear_xf()</a></code>.
Specifically, it applies a maximum numeric value to the color range,
and an optional numeric floor.</p>
<p>Other enhancements:</p><ul><li><p>The ggplot2 legend shows discrete steps with labels for each color.
This style differs from ggplot2 "colorsteps" which labels the break
between colors.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other colorjam ggplot2:
<code><a href="scale_color_div_xf.html">scale_color_div_xf</a>()</code>,
<code><a href="scale_color_jam.html">scale_color_jam</a>()</code>,
<code><a href="scale_fill_jam.html">scale_fill_jam</a>()</code>,
<code><a href="theme_jam.html">theme_jam</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># ggplot2 is required</span></span></span>
<span class="r-in"><span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="va"><a href="https://ggplot2.tidyverse.org/reference/faithfuld.html" class="external-link">faithfuld</a></span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">waiting</span>, <span class="va">eruptions</span>, fill<span class="op">=</span><span class="va">density</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_raster</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>   <span class="fu">scale_fill_linear_xf</span><span class="op">(</span><span class="fl">0.04</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="theme_jam.html">theme_jam</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="scale_color_linear_xf-1.png" alt="" width="768" height="768"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

